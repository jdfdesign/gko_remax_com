<%# resource_cache(resource) do %>
<% 
options = @rental_property.content_options
has_options = options.try(:any?)
tags = []
tags << realty_meta_tag("bedroom_count", @rental_property.bedroom_count)
tags << realty_meta_tag("bathroom_count", @rental_property.bathroom_count)
tags << realty_meta_tag("min_price", rental_min_price_value(@rental_property))
if @rental_property.area.present? 
  tags << realty_meta_tag("area", @rental_property.area.name)
end
if @rental_property.children_policy.present? 
  tags << realty_meta_tag("children_policy", @rental_property.children_policy)
end
if @rental_property.pets_policy.present? 
  tags << realty_meta_tag("pets_policy", @rental_property.pets_policy)
end
@rental_property.content_options.each do |o|
  tags << "<strong>#{o.option_type.presentation}: </strong>#{o.option_value.presentation}"
end
%>

<article class="property">

  <%= image_tag "file://#{resource.images.first.image.path}", :class => "img-responsive" %>
  <br/>

  <div class="property-header">
    <h1><%= @rental_property.title %></h1>
    <hr>
    <%= render_copy_text(@rental_property.body) %>
  </div>

  <% if @rental_property.info_body.present? %>
    <div class="well property-info">
      <h4><%= @rental_property.info_title %></h4>
      <%= @rental_property.info_body %>
      <br/>
    </div>
  <% end %>
  <hr>
  <div class='widget-details'>
    <%= tags.compact.join("<br/>").html_safe %>
  </div>
  <br/>
  <h4 class="panel-title"><%= t(:'rates') %></h4>
  <hr>
  <div class="panel-body">
    <% if @rental_property.promo_text.present? %>
      <div class="well property-promo-text">
        <%= @rental_property.promo_text.html_safe %>
      </div>
    <% end %>
    <%= render 'rental_properties/seasons' %>
  </div>
  
  <% if @rental_property.meta and @rental_property.meta.description.present? %>
    <br/>
    <h4 class="panel-title"><%= t(:'details') %></h4>
    <hr>
    <div class="panel-body">
      <%= render_copy_text(@rental_property.meta.description) %>
    </div>
  <% end %>
</article>
<%# end %> 
